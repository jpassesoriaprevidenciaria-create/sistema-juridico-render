{% extends 'base.html' %}

{% block title %}Clientes{% endblock %}
{% block header %}Gestão de Clientes{% endblock %}

{% block content %}

<!-- BARRA SUPERIOR -->
<div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px; flex-wrap:wrap; gap:10px;">
    
    <!-- BUSCA -->
    <form method="get" style="display:flex; gap:10px;">
        <input 
            type="text" 
            name="q" 
            placeholder="Buscar cliente por nome..." 
            value="{{ busca }}"
            style="padding:10px; border-radius:6px; border:1px solid #ccc; min-width:250px;"
        >
        <button type="submit" class="btn">Buscar</button>
    </form>

    <!-- BOTÃO NOVO -->
    <a href="/clientes/cadastrar/" class="btn">+ Novo Cliente</a>
</div>

<!-- CARD INFORMATIVO -->
<div style="margin-bottom:15px; font-weight:bold;">
    Total de clientes encontrados: {{ total }}
</div>

<!-- TABELA PROFISSIONAL -->
<table>
    <thead>
        <tr>
            <th>Nome</th>
            <th>Telefone</th>
            <th>Data de Cadastro</th>
        </tr>
    </thead>
    <tbody>
        {% for cliente in clientes %}
        <tr>
            <td>{{ cliente.nome }}</td>
            <td>{{ cliente.telefone|default:"-" }}</td>
            <td>{{ cliente.data_cadastro|date:"d/m/Y H:i" }}</td>
        </tr>
        {% empty %}
        <tr>
            <td colspan="3">Nenhum cliente encontrado.</td>
        </tr>
        {% endfor %}
    </tbody>
</table>

{% endblock %}