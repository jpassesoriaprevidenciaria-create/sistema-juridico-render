{% extends 'base.html' %}

{% block title %}Dashboard{% endblock %}
{% block header %}Dashboard - Sistema Judiciário{% endblock %}

{% block content %}

<!-- CARDS DE ESTATÍSTICAS -->
<div style="display:flex; gap:20px; flex-wrap:wrap; margin-bottom:25px;">

    <!-- TOTAL DE CLIENTES -->
    <div style="
        flex:1;
        min-width:250px;
        background: linear-gradient(135deg, #111827, #1f2937);
        color:white;
        padding:25px;
        border-radius:12px;
        box-shadow:0 6px 18px rgba(0,0,0,0.08);
    ">
        <div style="font-size:14px; opacity:0.8;">Total de Clientes</div>
        <div style="font-size:32px; font-weight:bold; margin-top:5px;">
            {{ total_clientes }}
        </div>
    </div>

    <!-- AÇÕES RÁPIDAS -->
    <div style="
        flex:1;
        min-width:250px;
        background:white;
        padding:25px;
        border-radius:12px;
        box-shadow:0 6px 18px rgba(0,0,0,0.06);
        border:1px solid #e5e7eb;
    ">
        <div style="font-weight:bold; margin-bottom:15px; font-size:18px;">
            Ações Rápidas
        </div>

        <a href="/clientes/" class="btn" style="margin-right:10px;">
            Ver Clientes
        </a>

        <a href="/clientes/cadastrar/" class="btn">
            Cadastrar Cliente
        </a>
    </div>

</div>

<!-- ÚLTIMOS CLIENTES -->
<div style="
    background:white;
    padding:25px;
    border-radius:12px;
    box-shadow:0 6px 18px rgba(0,0,0,0.06);
    border:1px solid #e5e7eb;
">
    <h3 style="margin-bottom:15px;">Últimos Clientes Cadastrados</h3>

    <table>
        <thead>
            <tr>
                <th>Nome</th>
                <th>Telefone</th>
                <th>Data de Cadastro</th>
            </tr>
        </thead>
        <tbody>
            {% for cliente in ultimos_clientes %}
            <tr>
                <td>{{ cliente.nome }}</td>
                <td>{{ cliente.telefone|default:"-" }}</td>
                <td>{{ cliente.data_cadastro|date:"d/m/Y H:i" }}</td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="3">Nenhum cliente cadastrado.</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

{% endblock %}